# 内存检测

xutil 的内存分配在调试模式下，可以检测**内存泄露**和**内存越界**，还能精确定位到出问题的内存具体分配情况和函数调用栈：

```bash
xmake f -m debug
```

例子可见：`xutil/unit_test/memory/check.c`

## 内存泄漏检测

内存泄露必须在程序完成退出，确保调用了 `xutil_exit()` 接口后才能触发检测，如果有泄露会有详细信息输出到终端上。

## 内存越界检测

越界溢出的检测，是实时完成的，而且对 libc 也做了插桩，所以对常用strcpy，memset 等的使用，都会去检测。

## 内存重叠覆盖检测

如果两块内存的 copy 发生了重叠，有可能会覆盖掉部分数据，导致 bug，因此对此也做了些检测。

## 内存双重释放检测

即 double-free 检测。
